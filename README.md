# Telegram Moderation Bot

Консольное приложение на Python для автоматической модерации чатов Telegram: фильтрация запрещённых слов, бан пользователей и логирование.

## Описание

Бот на базе **aiogram** и **SQLite** выполняет следующие задачи:

* Запрашивает у оператора при запуске:

  * **API токен** бота
  * **ID чата**, в котором бот будет работать
* Загружает из файлов:

  * Список **администраторов** (`admins.txt`)
  * **Бан-лист слов** (`ban_words.txt`)
* При получении нового сообщения:

  1. Проверяет разрешённые символы (только русские и английские буквы, цифры, пробелы, `.,!?`).
  2. Ищет **запрещённые слова** и символы.
  3. Баны пользователя и удаляет сообщение, если нарушитель найден.
  4. Администраторы могут выдавать команду `!бан` в ответ на сообщение для принудительного бана.
* Все случаи бана логируются в базу данных **SQLite** (`banned_users.db`).

## Структура репозитория

```
.
├─ main.py          # Основная логика бота с вводом токена и ID чата fileciteturn6file0
├─ mainold.py       # Предыдущая версия с жёстко закодированным токеном и ID fileciteturn6file1
├─ test.py          # Тестовый скрипт-прототип (аналог main.py) fileciteturn6file2
├─ admins.txt       # Список Telegram ID администраторов (по одному на строке) fileciteturn6file3
├─ ban_words.txt    # Бан-лист слов для автоматической фильтрации (по одному на строке) fileciteturn6file4
└─ banned_users.db  # SQLite база для логирования заблокированных пользователей
```

## Требования

* Python 3.8 или выше
* Пакеты Python:

  ```bash
  pip install aiogram asyncio sqlite3
  ```

## Установка и запуск

1. Склонируйте репозиторий и перейдите в папку проекта.
2. Убедитесь, что файлы `admins.txt` и `ban_words.txt` заполнены.
3. Запустите бота:

   ```bash
   python main.py
   ```
4. Введите **API токен** и **ID чата**, когда появится приглашение:

   ```text
   введите API токен бота:
   Укажите ID чата, в котором работает бот:
   ```

Бот начнёт мониторить указанный чат и автоматически банить нарушителей.

## Расширение функционала

* Добавить команды в чат для динамического управления списками (ban/unban, добавление слов).
* Реализовать хранение конфигурации и логов в более мощной СУБД.
* Ввести разграничение прав для разных ролей (например, `moderator`, `admin`).

## Лицензия

MIT License
